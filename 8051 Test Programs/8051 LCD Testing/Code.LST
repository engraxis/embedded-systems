C51 COMPILER V9.03   CODE                                                                  01/29/2013 11:38:05 PAGE 1   


C51 COMPILER V9.03, COMPILATION OF MODULE CODE
OBJECT MODULE PLACED IN Code.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Code.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          ///////////////////////////////////////////////////////////////////////////
   2          #include <REGX51.H>
   3          #include <string.h>
   4          #define lcd P0
   5          sbit rs=P1^5;
   6          sbit rw=P1^6;
   7          sbit en=P1^7;
   8          sbit lcdbusy=P0^7;
   9          ////////////////////////// LCD DISPLAY FUNCTIONS //////////////////////////
  10          void lcdcmd(unsigned char);
  11          void lcddata(unsigned char);
  12          void lcdready(void);
  13          void delay(unsigned int);
  14          //////////////////////////////// VARIABLES ///////////////////////////////
  15          unsigned char a,b,i;                                            // Looping
  16          ///////////////////////////// MAIN FUNCTION //////////////////////////////
  17          void main(void)
  18          {               
  19   1              P0=P1=P2=P3=0x00;
  20   1              lcdcmd(0x38);
  21   1              lcdcmd(0x0C);
  22   1              lcdcmd(0x01);
  23   1              lcdcmd(0x06);
  24   1              lcdcmd(0x81);
  25   1              lcddata('A');
  26   1              lcddata('B');
  27   1              lcddata('Z');
  28   1              while(1)
  29   1              {
  30   2                      P2=0x55;
  31   2                      delay(200);
  32   2                      P2=0xAA;
  33   2                      delay(200);
  34   2              }
  35   1      }
  36          /////////////////////////////////////////////////////////////////////////
  37          void lcdcmd(unsigned char value)
  38          {
  39   1              lcdready();
  40   1              lcd=value;
  41   1              rs=0;
  42   1              rw=0;
  43   1              en=1;
  44   1              delay(50);
  45   1              en=0;
  46   1              return;
  47   1      }
  48          /////////////////////////////////////////////////////////////////////////
  49          void lcddata(unsigned char value)
  50          {
  51   1              lcdready();      
  52   1              lcd=value;
  53   1              rs=1;
  54   1              rw=0;
  55   1              en=1;
C51 COMPILER V9.03   CODE                                                                  01/29/2013 11:38:05 PAGE 2   

  56   1              delay(50);
  57   1              en=0;
  58   1              return;
  59   1      }
  60          /////////////////////////////////////////////////////////////////////////
  61          void lcdready(void)
  62          {
  63   1              lcdbusy=1;
  64   1              rs=0;
  65   1              rw=1;
  66   1              while(lcdbusy==1)
  67   1              {
  68   2                      en=0;
  69   2                      delay(50);
  70   2                      en=1;
  71   2              }       
  72   1              return;
  73   1      }
  74          /////////////////////////////////////////////////////////////////////////
  75          void delay(unsigned int z)
  76          {       
  77   1              for(b=1;b<z;b++)
  78   1              {
  79   2                      TMOD=0X01;
  80   2                      TH0=0XFC;
  81   2                      TL0=0X66;
  82   2                      TR0=1;
  83   2                      while(TF0==0);
  84   2                      TR0=0;
  85   2                      TF0=0;                  
  86   2              }       
  87   1              return;
  88   1      }
  89          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    164    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
