/* Copyright 2007-8 Google. */ (function() { function h(a){throw a;}
var i=void 0,j=!0,k=null,l=!1,p="",aa="\n",r=" ",ba='"',ca='", ',da='","groups":["reactions"]},"labels":[',ea='","groups":["reactions"]},{"url": "',fa='"}],"applicationId":34}',ga="$$$$",ha="(",ia="(\\d*)(\\D*)",ja=")",ka="*",ma=".",na="0",oa=": ",pa="@",qa="Assertion failed",ra="Content-Type",sa="GET",ta="MSXML2.XMLHTTP",ua="MSXML2.XMLHTTP.3.0",va="MSXML2.XMLHTTP.6.0",wa="Microsoft.XMLHTTP",xa="POST",ya="[object Array]",za="[object Function]",Aa="[object Window]",Ba="]",Ca=']}],"applicationId":34}&token=',
Da="_",Ea="a",Fa="abort",Ga="application/x-www-form-urlencoded;charset=utf-8",s="array",Ha="call",Ia="click",Ja="complete",Ka="error",La="event",t="function",Ma="g",Na="http://www.blogger.com/reviews/json/aggregates",Oa="http://www.blogger.com/reviews/json/token",Pa="http://www.blogger.com/reviews/json/write",Qa="innerText",Ra="keypress",Sa="mouseout",Ta="mouseover",Ua="native code",Va="null",Wa="number",Xa="object",Ya="on",Za="ready",$a="readystatechange",ab='req={"annotations": [ {"replaceAllLabels":true,"entity": {"url": "',
bb='req={"applicationId":34}',cb='req={"entities":[{"url": "',db="rx-checked",eb="rx-count",fb="rx-holder",gb="rx-label",hb="rx-option",ib="rx-unchecked",jb="span",kb="splice",lb="string",mb="success",nb="timeout",ob="var ",pb="window",qb="withCredentials",u,rb=rb||{},v=this,sb=function(a,b,c){a=a.split(ma);c=c||v;!(a[0]in c)&&c.execScript&&c.execScript(ob+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&b!==i?c[d]=b:c=c[d]?c[d]:c[d]={}},tb=function(){},w=function(a){var b=typeof a;if(b==Xa)if(a){if(a instanceof
Array)return s;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c==Aa)return Xa;if(c==ya||typeof a.length==Wa&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(kb))return s;if(c==za||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(Ha))return t}else return Va;else if(b==t&&"undefined"==typeof a.call)return Xa;return b},y=function(a){var b=w(a);return b==s||b==Xa&&typeof a.length==
Wa},z=function(a){return typeof a==lb},A=function(a){return a[ub]||(a[ub]=++vb)},ub="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),vb=0,wb=function(a,b,c){return a.call.apply(a.bind,arguments)},xb=function(a,b,c){a||h(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},B=function(a,b,c){B=Function.prototype.bind&&
-1!=Function.prototype.bind.toString().indexOf(Ua)?wb:xb;return B.apply(k,arguments)},yb=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},D=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return B.apply(k,c)}return B(this,a)};Function.prototype.partial=function(a){var b=Array.prototype.slice.call(arguments);b.unshift(this,k);return B.apply(k,b)};var zb=function(a){Error.captureStackTrace?Error.captureStackTrace(this,zb):this.stack=Error().stack||p;a&&(this.message=p+a)};D(zb,Error);var Ab=function(a,b){for(var c=1;c<arguments.length;c++)var d=(p+arguments[c]).replace(/\$/g,ga),a=a.replace(/\%s/,d);return a};var Bb=function(a,b){b.unshift(a);zb.call(this,Ab.apply(k,b));b.shift()};D(Bb,zb);var E=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),f=qa;if(b)var f=f+(oa+b),e=d;h(new Bb(p+f,e||[]))}return a};var F=Array.prototype,G=F.indexOf?function(a,b,c){E(a.length!=k);return F.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(z(a))return!z(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Cb=F.forEach?function(a,b,c){E(a.length!=k);F.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=z(a)?a.split(p):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Db=F.filter?function(a,b,c){E(a.length!=k);return F.filter.call(a,b,c)}:function(a,
b,c){for(var d=a.length,f=[],e=0,g=z(a)?a.split(p):a,m=0;m<d;m++)if(m in g){var n=g[m];b.call(c,n,m,a)&&(f[e++]=n)}return f},Eb=function(a,b){var c=G(a,b),d;if(d=0<=c)E(a.length!=k),F.splice.call(a,c,1);return d},Fb=function(a,b,c){E(a.length!=k);return 2>=arguments.length?F.slice.call(a,b):F.slice.call(a,b,c)};var Gb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Hb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ib=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Kb=function(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<Jb.length;e++)c=Jb[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var H,Lb,Mb,Nb,Ob=function(){return v.navigator?v.navigator.userAgent:k};Nb=Mb=Lb=H=l;var Pb;if(Pb=Ob()){var Qb=v.navigator;H=0==Pb.indexOf("Opera");Lb=!H&&-1!=Pb.indexOf("MSIE");Mb=!H&&-1!=Pb.indexOf("WebKit");Nb=!H&&!Mb&&"Gecko"==Qb.product}var Rb=H,I=Lb,J=Nb,K=Mb,Sb;
a:{var Tb=p,L;if(Rb&&v.opera)var Ub=v.opera.version,Tb=typeof Ub==t?Ub():Ub;else if(J?L=/rv\:([^\);]+)(\)|;)/:I?L=/MSIE\s+([^\);]+)(\)|;)/:K&&(L=/WebKit\/(\S+)/),L)var Vb=L.exec(Ob()),Tb=Vb?Vb[1]:p;if(I){var Wb,Xb=v.document;Wb=Xb?Xb.documentMode:i;if(Wb>parseFloat(Tb)){Sb=p+Wb;break a}}Sb=Tb}
var Yb=Sb,Zb={},M=function(a){var b;if(!(b=Zb[a])){b=0;for(var c=(p+Yb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,p).split(ma),d=(p+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,p).split(ma),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||p,m=d[e]||p,n=RegExp(ia,Ma),q=RegExp(ia,Ma);do{var x=n.exec(g)||[p,p,p],o=q.exec(m)||[p,p,p];if(0==x[0].length&&0==o[0].length)break;b=((0==x[1].length?0:parseInt(x[1],10))<(0==o[1].length?0:parseInt(o[1],10))?-1:(0==x[1].length?0:parseInt(x[1],10))>(0==o[1].length?0:
parseInt(o[1],10))?1:0)||((0==x[2].length)<(0==o[2].length)?-1:(0==x[2].length)>(0==o[2].length)?1:0)||(x[2]<o[2]?-1:x[2]>o[2]?1:0)}while(0==b)}b=Zb[a]=0<=b}return b},$b={},ac=function(a){return $b[a]||($b[a]=I&&!!document.documentMode&&document.documentMode>=a)};var bc=function(a){bc[r](a);return a};bc[r]=tb;!I||ac(9);var cc=!I||ac(9),dc=I&&!M("8");!K||M("528");J&&M("1.9b")||I&&M("8")||Rb&&M("9.5")||K&&M("528");J&&!M("8")||I&&M("9");var N=function(){};N.prototype.disposed_=l;N.prototype.dispose=function(){this.disposed_||(this.disposed_=j,this.disposeInternal())};N.prototype.disposeInternal=function(){this.dependentDisposables_&&ec.apply(k,this.dependentDisposables_)};var ec=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];y(d)?ec.apply(k,d):d&&typeof d.dispose==t&&d.dispose()}};var O=function(a,b){this.type=a;this.currentTarget=this.target=b};D(O,N);u=O.prototype;u.disposeInternal=function(){delete this.type;delete this.target;delete this.currentTarget};u.propagationStopped_=l;u.defaultPrevented=l;u.returnValue_=j;u.preventDefault=function(){this.defaultPrevented=j;this.returnValue_=l};var P=function(a,b){a&&this.init(a,b)};D(P,O);u=P.prototype;u.target=k;u.relatedTarget=k;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=l;u.altKey=l;u.shiftKey=l;u.metaKey=l;u.event_=k;
u.init=function(a,b){var c=this.type=a.type;O.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(J){var f;a:{try{bc(d.nodeName);f=j;break a}catch(e){}f=l}f||(d=k)}}else c==Ta?d=a.fromElement:c==Sa&&(d=a.toElement);this.relatedTarget=d;this.offsetX=K||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=K||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c==Ra?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault();delete this.propagationStopped_};
u.preventDefault=function(){P.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,dc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};u.disposeInternal=function(){P.superClass_.disposeInternal.call(this);this.relatedTarget=this.currentTarget=this.target=this.event_=k};var fc=function(){},gc=0;u=fc.prototype;u.key=0;u.removed=l;u.callOnce=l;u.init=function(a,b,c,d,f,e){w(a)==t?this.isFunctionListener_=j:a&&a.handleEvent&&w(a.handleEvent)==t?this.isFunctionListener_=l:h(Error("Invalid listener argument"));this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.handler=e;this.callOnce=l;this.key=++gc;this.removed=l};
u.handleEvent=function(a){return this.isFunctionListener_?this.listener.call(this.handler||this.src,a):this.listener.handleEvent.call(this.listener,a)};var Q={},R={},S={},T={},U=function(a,b,c,d,f){if(b){if(w(b)==s){for(var e=0;e<b.length;e++)U(a,b[e],c,d,f);return k}var d=!!d,g=R;b in g||(g[b]={count_:0,remaining_:0});g=g[b];d in g||(g[d]={count_:0,remaining_:0},g.count_++);var g=g[d],m=A(a),n;g.remaining_++;if(g[m]){n=g[m];for(e=0;e<n.length;e++)if(g=n[e],g.listener==c&&g.handler==f){if(g.removed)break;return n[e].key}}else n=g[m]=[],g.count_++;e=hc();e.src=a;g=new fc;g.init(c,e,a,b,d,f);c=g.key;e.key=c;n.push(g);Q[c]=g;S[m]||(S[m]=[]);S[m].push(g);
a.addEventListener?(a==v||!a.customEvent_)&&a.addEventListener(b,e,d):a.attachEvent(b in T?T[b]:T[b]=Ya+b,e);return c}h(Error("Invalid event type"))},hc=function(){var a=ic,b=cc?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b},jc=function(a,b,c,d,f){if(w(b)==s){for(var e=0;e<b.length;e++)jc(a,b[e],c,d,f);return k}a=U(a,b,c,d,f);Q[a].callOnce=j;return a},kc=function(a,b,c,d,f){if(w(b)==s){for(var e=0;e<b.length;e++)kc(a,b[e],c,d,f);return k}d=
!!d;a:{e=R;if(b in e&&(e=e[b],d in e&&(e=e[d],a=A(a),e[a]))){a=e[a];break a}a=k}if(!a)return l;for(e=0;e<a.length;e++)if(a[e].listener==c&&a[e].capture==d&&a[e].handler==f)return lc(a[e].key);return l},lc=function(a){if(!Q[a])return l;var b=Q[a];if(b.removed)return l;var c=b.src,d=b.type,f=b.proxy,e=b.capture;c.removeEventListener?(c==v||!c.customEvent_)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in T?T[d]:T[d]=Ya+d,f);c=A(c);f=R[d][e][c];if(S[c]){var g=S[c];Eb(g,b);0==g.length&&
delete S[c]}b.removed=j;f.needsCleanup_=j;mc(d,e,c,f);delete Q[a];return j},mc=function(a,b,c,d){if(!d.locked_&&d.needsCleanup_){for(var f=0,e=0;f<d.length;f++)d[f].removed?d[f].proxy.src=k:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.needsCleanup_=l;0==e&&(delete R[a][b][c],R[a][b].count_--,0==R[a][b].count_&&(delete R[a][b],R[a].count_--),0==R[a].count_&&delete R[a])}},nc=function(a,b,c){var d=0,f=b==k,e=c==k,c=!!c;if(a==k)Gb(S,function(a){for(var g=a.length-1;0<=g;g--){var m=a[g];if((f||b==m.type)&&(e||
c==m.capture))lc(m.key),d++}});else if(a=A(a),S[a])for(var a=S[a],g=a.length-1;0<=g;g--){var m=a[g];if((f||b==m.type)&&(e||c==m.capture))lc(m.key),d++}return d},V=function(a,b,c,d,f){var e=1,b=A(b);if(a[b]){a.remaining_--;a=a[b];a.locked_?a.locked_++:a.locked_=1;try{for(var g=a.length,m=0;m<g;m++){var n=a[m];n&&!n.removed&&(e&=oc(n,f)!==l)}}finally{a.locked_--,mc(c,d,b,a)}}return Boolean(e)},oc=function(a,b){var c=a.handleEvent(b);a.callOnce&&lc(a.key);return c},ic=function(a,b){if(!Q[a])return j;
var c=Q[a],d=c.type,f=R;if(!(d in f))return j;var f=f[d],e,g;if(!cc){var m;if(!(m=b))a:{m=[pb,La];for(var n=v;e=m.shift();)if(n[e]!=k)n=n[e];else{m=k;break a}m=n}e=m;m=j in f;n=l in f;if(m){if(0>e.keyCode||e.returnValue!=i)return j;a:{var q=l;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(x){q=j}if(q||e.returnValue==i)e.returnValue=j}}q=new P;q.init(e,this);e=j;try{if(m){for(var o=[],la=q.currentTarget;la;la=la.parentNode)o.push(la);g=f[j];g.remaining_=g.count_;for(var C=o.length-1;!q.propagationStopped_&&
0<=C&&g.remaining_;C--)q.currentTarget=o[C],e&=V(g,o[C],d,j,q);if(n){g=f[l];g.remaining_=g.count_;for(C=0;!q.propagationStopped_&&C<o.length&&g.remaining_;C++)q.currentTarget=o[C],e&=V(g,o[C],d,l,q)}}else e=oc(c,q)}finally{o&&(o.length=0),q.dispose()}return e}d=new P(b,this);try{e=oc(c,d)}finally{d.dispose()}return e};var pc=function(){};D(pc,N);u=pc.prototype;u.customEvent_=j;u.parentEventTarget_=k;u.addEventListener=function(a,b,c,d){U(this,a,b,c,d)};u.removeEventListener=function(a,b,c,d){kc(this,a,b,c,d)};
u.dispatchEvent=function(a){var b=a.type||a,c=R;if(b in c){if(z(a))a=new O(a,this);else if(a instanceof O)a.target=a.target||this;else{var d=a,a=new O(b,this);Kb(a,d)}var d=1,f,c=c[b],b=j in c,e;if(b){f=[];for(e=this;e;e=e.parentEventTarget_)f.push(e);e=c[j];e.remaining_=e.count_;for(var g=f.length-1;!a.propagationStopped_&&0<=g&&e.remaining_;g--)a.currentTarget=f[g],d&=V(e,f[g],a.type,j,a)&&a.returnValue_!=l}if(l in c)if(e=c[l],e.remaining_=e.count_,b)for(g=0;!a.propagationStopped_&&g<f.length&&
e.remaining_;g++)a.currentTarget=f[g],d&=V(e,f[g],a.type,l,a)&&a.returnValue_!=l;else for(f=this;!a.propagationStopped_&&f&&e.remaining_;f=f.parentEventTarget_)a.currentTarget=f,d&=V(e,f,a.type,l,a)&&a.returnValue_!=l;a=Boolean(d)}else a=j;return a};u.disposeInternal=function(){pc.superClass_.disposeInternal.call(this);nc(this);this.parentEventTarget_=k};var qc=function(a,b){b.preventDefault();a(b);return l};var rc=function(a){a=a.className;return z(a)&&a.match(/\S+/g)||[]},sc=function(a,b){for(var c=rc(a),d=Fb(arguments,1),f=c.length+d.length,e=c,g=0;g<d.length;g++)0<=G(e,d[g])||e.push(d[g]);a.className=c.join(r);return c.length==f},uc=function(a,b){var c=rc(a),d=Fb(arguments,1),f=tc(c,d);a.className=f.join(r);return f.length==c.length-d.length},tc=function(a,b){return Db(a,function(a){return!(0<=G(b,a))})},vc=function(a,b){var c=rc(a);(c=!(0<=G(c,b)))?sc(a,b):uc(a,b);return c};!I||ac(9);!J&&!I||I&&ac(9)||J&&M("1.9.1");var wc=I&&!M("9");var xc=function(a,b,c,d){a=d||a;b=b&&b!=ka?b.toUpperCase():p;if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?ma+c:p));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){for(var d={},f=0,e=0,g;g=a[e];e++)b==g.nodeName&&(d[f++]=g);d.length=f;return d}return a}a=a.getElementsByTagName(b||ka);if(c){d={};for(e=f=0;g=a[e];e++)b=g.className,typeof b.split==t&&0<=G(b.split(/\s+/),c)&&(d[f++]=g);d.length=f;return d}return a},yc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,
OBJECT:1},zc={IMG:r,BR:aa},Bc=function(a){if(wc&&Qa in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,aa);else{var b=[];Ac(a,b,j);a=b.join(p)}a=a.replace(/ \xAD /g,r).replace(/\xAD/g,p);a=a.replace(/\u200B/g,p);wc||(a=a.replace(/ +/g,r));a!=r&&(a=a.replace(/^\s*/,p));return a},Ac=function(a,b,c){if(!(a.nodeName in yc))if(3==a.nodeType)c?b.push((p+a.nodeValue).replace(/(\r\n|\r|\n)/g,p)):b.push(a.nodeValue);else if(a.nodeName in zc)b.push(zc[a.nodeName]);else for(a=a.firstChild;a;)Ac(a,b,c),a=a.nextSibling};var W="StopIteration"in v?v.StopIteration:Error("StopIteration"),X=function(){};X.prototype.next=function(){h(W)};X.prototype.__iterator__=function(){return this};
var Cc=function(a){if(a instanceof X)return a;if(typeof a.__iterator__==t)return a.__iterator__(l);if(y(a)){var b=0,c=new X;c.next=function(){for(;;){b>=a.length&&h(W);if(b in a)return a[b++];b++}};return c}h(Error("Not implemented"))},Dc=function(a,b,c){if(y(a))try{Cb(a,b,c)}catch(d){d!==W&&h(d)}else{a=Cc(a);try{for(;;)b.call(c,a.next(),i,a)}catch(f){f!==W&&h(f)}}};var Ec=function(a){if(typeof a.getValues==t)return a.getValues();if(z(a))return a.split(p);if(y(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Hb(a)},Fc=function(a,b,c){if(typeof a.forEach==t)a.forEach(b,c);else if(y(a)||z(a))Cb(a,b,c);else{var d;if(typeof a.getKeys==t)d=a.getKeys();else if(typeof a.getValues!=t)if(y(a)||z(a)){d=[];for(var f=a.length,e=0;e<f;e++)d.push(e)}else d=Ib(a);else d=i;for(var f=Ec(a),e=f.length,g=0;g<e;g++)b.call(c,f[g],d&&d[g],a)}};var Y=function(a,b){this.map_={};this.keys_=[];var c=arguments.length;if(1<c){c%2&&h(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};u=Y.prototype;u.count_=0;u.version_=0;u.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};u.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};u.containsKey=function(a){return Z(this.map_,a)};
u.remove=function(a){return Z(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),j):l};u.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];Z(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},b=a=0;a<this.keys_.length;)c=this.keys_[a],Z(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};
u.get=function(a,b){return Z(this.map_,a)?this.map_[a]:b};u.set=function(a,b){Z(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};u.addAll=function(a){var b;a instanceof Y?(b=a.getKeys(),a=a.getValues()):(b=Ib(a),a=Hb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};u.clone=function(){return new Y(this)};u.getKeyIterator=function(){return this.__iterator__(j)};
u.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.keys_,d=this.map_,f=this.version_,e=this,g=new X;g.next=function(){for(;;){f!=e.version_&&h(Error("The map has changed since the iterator was created"));b>=c.length&&h(W);var g=c[b++];return a?g:d[g]}};return g};var Z=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Gc=function(a){a=p+a;if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,pa).replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ba).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,p)))try{return eval(ha+a+ja)}catch(b){}h(Error("Invalid JSON string: "+a))};var Hc=v.window;var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Jc=K,Kc=function(a,b){if(Jc){Jc=l;var c=v.location;if(c){var d=c.href;if(d&&(d=(d=Kc(3,d))&&decodeURIComponent(d))&&d!=c.hostname)Jc=j,h(Error())}}return b.match(Ic)[a]||k};var Lc=function(){};Lc.prototype.cachedOptions_=k;Lc.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var Mc,$=function(){};D($,Lc);$.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};$.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=j,a[1]=j);return a};$.prototype.ieProgId_=k;$.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=[va,ua,ta,wa],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}h(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return this.ieProgId_};
Mc=new $;var Nc=function(a){this.headers=new Y;this.xmlHttpFactory_=a||k};D(Nc,pc);var Oc=/^https?$/i,Pc=[],Rc=function(a,b,c,d,f,e){var g=new Nc;Pc.push(g);b&&U(g,Ja,b);U(g,Za,yb(Qc,g));e&&g.setTimeoutInterval(e);g.send(a,c,d,f)},Qc=function(a){a.dispose();Eb(Pc,a)};u=Nc.prototype;u.active_=l;u.xhr_=k;u.xhrOptions_=k;u.lastUri_=p;u.errorDispatched_=l;u.inSend_=l;u.inOpen_=l;u.inAbort_=l;u.timeoutInterval_=0;u.timeoutId_=k;u.responseType_=p;u.withCredentials_=l;
u.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};
u.send=function(a,b,c,d){this.xhr_&&h(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():sa;this.lastUri_=a;this.errorDispatched_=l;this.active_=j;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():Mc.getOptions();this.xhr_.onreadystatechange=B(this.onReadyStateChange_,this);try{this.inOpen_=j,this.xhr_.open(b,a,j),this.inOpen_=l}catch(f){this.error_(5,f);return}var a=c||p,e=this.headers.clone();d&&Fc(d,function(a,b){e.set(b,
a)});b==xa&&!e.containsKey(ra)&&e.set(ra,Ga);Fc(e,function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);qb in this.xhr_&&(this.xhr_.withCredentials=this.withCredentials_);try{this.timeoutId_&&(Hc.clearTimeout(this.timeoutId_),this.timeoutId_=k),0<this.timeoutInterval_&&(this.timeoutId_=Hc.setTimeout(B(this.timeout_,this),this.timeoutInterval_)),this.inSend_=j,this.xhr_.send(a),this.inSend_=l}catch(g){this.error_(5,g)}};
u.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():Mc.createInstance()};u.timeout_=function(){"undefined"!=typeof rb&&this.xhr_&&(this.dispatchEvent(nb),this.abort(8))};u.error_=function(){this.active_=l;this.xhr_&&(this.inAbort_=j,this.xhr_.abort(),this.inAbort_=l);this.dispatchErrors_();this.cleanUpXhr_()};u.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=j,this.dispatchEvent(Ja),this.dispatchEvent(Ka))};
u.abort=function(){this.xhr_&&this.active_&&(this.active_=l,this.inAbort_=j,this.xhr_.abort(),this.inAbort_=l,this.dispatchEvent(Ja),this.dispatchEvent(Fa),this.cleanUpXhr_())};u.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=l,this.inAbort_=j,this.xhr_.abort(),this.inAbort_=l),this.cleanUpXhr_(j));Nc.superClass_.disposeInternal.call(this)};u.onReadyStateChange_=function(){if(!this.inOpen_&&!this.inSend_&&!this.inAbort_)this.onReadyStateChangeEntryPoint_();else this.onReadyStateChangeHelper_()};
u.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};u.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof rb&&(!this.xhrOptions_[1]||!(4==this.getReadyState()&&2==this.getStatus())))if(this.inSend_&&4==this.getReadyState())Hc.setTimeout(B(this.onReadyStateChange_,this),0);else if(this.dispatchEvent($a),this.isComplete()){this.active_=l;try{this.isSuccess()?(this.dispatchEvent(Ja),this.dispatchEvent(mb)):this.dispatchErrors_()}finally{this.cleanUpXhr_()}}};
u.cleanUpXhr_=function(a){if(this.xhr_){var b=this.xhr_,c=this.xhrOptions_[0]?tb:k;this.xhrOptions_=this.xhr_=k;this.timeoutId_&&(Hc.clearTimeout(this.timeoutId_),this.timeoutId_=k);a||this.dispatchEvent(Za);try{b.onreadystatechange=c}catch(d){}}};u.isComplete=function(){return 4==this.getReadyState()};u.isSuccess=function(){var a=this.getStatus(),b;a:switch(a){case 200:case 201:case 202:case 204:case 304:case 1223:b=j;break a;default:b=l}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};
u.isLastUriEffectiveSchemeHttp_=function(){var a=Kc(1,p+this.lastUri_);!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1));return Oc.test(a?a.toLowerCase():p)};u.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};u.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};u.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Gc(b)}};var Sc=function(a,b){this.entityId_=encodeURIComponent(a);b?this.sender_=b:(this.sender_=Nc,this.sender_.send=Rc);this.writeToken_=p;this.options_={};this.counts_={};this.decodeLabel_={};this.selectedReactions_=new Y};u=Sc.prototype;
u.initialize=function(a){for(var a=xc(document,Ea,hb,document.getElementById(a)),b=0;b<a.length;b++){var c=a[b],d=xc(document,jb,gb,c)[0],d=Bc(d);this.options_[d]=c;this.decodeLabel_[this.encodeLabel_(d)]=d;var f=c,e=B(this.toggle,this,d);U(f,Ia,qc.partial(e));c=xc(document,jb,eb,c)[0];this.counts_[d]=c;c.innerHTML=na}a=B(this.displayRetrievedAnnotations_,this);b=B(this.disableOptions_,this);this.loadExistingReactions_(a,b)};u.setZipitToken_=function(a){this.writeToken_=a};
u.loadZipitToken_=function(a){var b=B(this.disableOptions_,this),c=B(this.setZipitToken_,this),d=B(this.toggle,this);this.sender_.send(Oa,function(){if(this.isSuccess()){var f=this.getResponseJson();c(f.channelHeader.token);a&&d(a)}else b()},xa,bb)};u.loadExistingReactions_=function(a,b){this.sender_.send(Na,function(){this.isSuccess()?a(this.getResponseJson()):b()},xa,cb+this.entityId_+ea+this.entityId_+fa)};
u.displayRetrievedAnnotations_=function(a){if(a.entityAggregates)for(var b=0;b<a.entityAggregates.length;b++){var c=l;if(c=a.entityAggregates[b].labels)for(var d=0;d<c.length;d++){var f=this.counts_[this.decodeLabel_[c[d].label]];if(f){var e=parseInt(Bc(f),10);isNaN(e)&&(e=0);f.innerHTML=e+parseInt(c[d].count,10)}}}};u.encodeLabel_=function(a){a=a.replace(/([^A-Za-z ])/g,function(a){return Da+a.charCodeAt(0)});return a=a.replace(/([A-Z])/g,function(a){return Da+a.toLowerCase()})};
u.disableOptions_=function(){for(var a=xc(document,Ea,hb,document.getElementById(fb)),b=0;b<a.length;b++){var c=a[b];c.style.borderColor=k;nc(c)}};
u.toggle=function(a){if(this.writeToken_==p)this.loadZipitToken_(a);else{if(this.selectedReactions_.get(a)){var b=l;this.selectedReactions_.remove(a)}else b=j,this.selectedReactions_.set(a,j);var c=p;Dc(this.selectedReactions_.getKeyIterator(),function(a){c=c+ba+this.encodeLabel_(a)+ca},this);this.sender_.send(Pa,tb,xa,ab+this.entityId_+da+c+Ca+this.writeToken_);var d=this.options_[a];if(d){var a=this.counts_[a],f=parseInt(Bc(a),10);isNaN(f)&&(f=0);a.innerHTML=b?f+1:f-1;vc(d,db);vc(d,ib)}}};sb("BLOG_Annotator",Sc,i);Sc.prototype.initialize=Sc.prototype.initialize;sb("BLOG_listenOnce",jc,i); })()
